# ğŸ“˜ 01a. Multi-Tool Agent - ë‹¤ì¤‘ ë„êµ¬ Agent

ì—¬ëŸ¬ ë„êµ¬ë¥¼ ê´€ë¦¬í•˜ê³  LLMì´ ì ì ˆí•œ ë„êµ¬ë¥¼ ì„ íƒí•˜ëŠ” Agentì…ë‹ˆë‹¤.

---

## ğŸ“‹ í•™ìŠµ ëª©í‘œ

1. ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ ë„êµ¬ ì •ì˜ ë°©ë²•
2. ë„êµ¬ ì„¤ëª…(docstring)ì˜ ì¤‘ìš”ì„±
3. ë³µì¡í•œ ì§ˆë¬¸ì— ëŒ€í•œ ë‹¤ì¤‘ ë„êµ¬ í˜¸ì¶œ
4. ë„êµ¬ ì‹¤í–‰ ê²°ê³¼ ì²˜ë¦¬

---

## ğŸ–¥ï¸ CLI ì‹¤í–‰ ë°©ë²•

ì´ ì˜ˆì œëŠ” **ëŒ€í™”í˜• CLI ëª¨ë“œ**ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤. ì§ˆë¬¸ì„ ììœ ë¡­ê²Œ ì…ë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
python examples/01a_multi_tool_agent.py
```

```
Multi-Tool Agent ì˜ˆì œ (CLI ëª¨ë“œ)
ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”. ë‚ ì”¨, ì‹œê°„, ê³„ì‚°ê¸° ë“±ì„ í™œìš©í•©ë‹ˆë‹¤.
ì¢…ë£Œí•˜ë ¤ë©´ 'quit' ë˜ëŠ” 'exit'ë¥¼ ì…ë ¥í•˜ì„¸ìš”.

ğŸ™‹ ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”: ì„œìš¸ ë‚ ì”¨ ì•Œë ¤ì£¼ê³  ì§€ê¸ˆ ëª‡ ì‹œì¸ì§€ë„ ë§í•´ì¤˜
```

### ì¢…ë£Œ ë°©ë²•
- `quit`, `exit`, ë˜ëŠ” `q` ì…ë ¥
- `Ctrl+C` í‚¤ ì…ë ¥

---

> [!IMPORTANT]
> **GPT-OSS (vLLM) í˜¸í™˜ì„±**: ë¡œì»¬ LLM ì„œë²„ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° [Harmony í˜¸í™˜ì„± ê°€ì´ë“œ](harmony_compatibility.md)ë¥¼ ì°¸ê³ í•˜ì—¬ ì‘ë‹µ íŒŒì‹± ë° ë©”ì‹œì§€ ì •ì œë¥¼ ì ìš©í•˜ì„¸ìš”.

## ğŸ”§ ì •ì˜ëœ ë„êµ¬

| ë„êµ¬ | ì„¤ëª… |
|------|------|
| `get_weather` | ë„ì‹œë³„ ë‚ ì”¨ ì¡°íšŒ (ì„œìš¸, ë¶€ì‚°, ì œì£¼ ë“±) |
| `calculate` | ìˆ˜í•™ ê³„ì‚° (ì‚¬ì¹™ì—°ì‚°, ìˆ˜ì‹ ê³„ì‚°) |
| `search_knowledge` | ê¸°ìˆ  ê°œë… ì§€ì‹ ê²€ìƒ‰ (AI, RAG ë“±) |
| `get_time` | í˜„ì¬ ì‹œê°„ ë° ë‚ ì§œ ì¡°íšŒ |
| `translate` | í…ìŠ¤íŠ¸ ë²ˆì—­ (ì˜ë¬¸, ì¼ë¬¸ ì§€ì›) |

---

## ğŸ“ í•µì‹¬ ì½”ë“œ

### ë„êµ¬ ì •ì˜ (ì˜ˆì‹œ: ë‚ ì”¨)
```python
@tool # ì´ í•¨ìˆ˜ë¥¼ AIê°€ ì“¸ ìˆ˜ ìˆëŠ” ë„êµ¬ë¡œ ë“±ë¡í•©ë‹ˆë‹¤.
def get_weather(city: str) -> str:
    """
    íŠ¹ì • ë„ì‹œì˜ í˜„ì¬ ë‚ ì”¨ì™€ ê¸°ì˜¨ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
    (AIëŠ” ì´ ì„¤ëª…ì„ ì½ê³  ë‚ ì”¨ ì§ˆë¬¸ì´ ë“¤ì–´ì™”ì„ ë•Œ ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.)
    """
    # ì‹¤ì œ API ëŒ€ì‹  ë¯¸ë¦¬ ì¤€ë¹„í•œ ì—°ìŠµìš© ë°ì´í„°ì…ë‹ˆë‹¤.
    weather_data = {
        "ì„œìš¸": "ë§‘ìŒ, 15Â°C, ìŠµë„ 45%",
        "ë¶€ì‚°": "íë¦¼, 18Â°C, ìŠµë„ 60%",
        "ì œì£¼": "ë¹„, 20Â°C, ìŠµë„ 80%",
    }
    # ì…ë ¥ë°›ì€ ë„ì‹œì˜ ë‚ ì”¨ë¥¼ ì°¾ì•„ì„œ ë°˜í™˜í•˜ê³ , ì—†ìœ¼ë©´ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ë³´ëƒ…ë‹ˆë‹¤.
    return weather_data.get(city, f"{city}ì˜ ë‚ ì”¨ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
```

### Agent ë…¸ë“œ (ìƒê° ë‹¨ê³„)
```python
def agent_node(state: MessagesState) -> dict:
    """ì§ˆë¬¸ì„ ë°›ê³  ë¬´ì—‡ì„ í• ì§€ ê²°ì •í•˜ëŠ” 'ìƒê°' ë…¸ë“œì…ë‹ˆë‹¤."""
    # 1. ì‚¬ìš©í•  AI ëª¨ë¸ì„ ê°€ì ¸ì˜¤ê³  ë„êµ¬ ëª©ë¡(tools)ì„ ì—°ê²°í•´ì¤ë‹ˆë‹¤.
    llm = get_llm()
    llm_with_tools = llm.bind_tools(tools, parallel_tool_calls=False)
    
    # 2. AIì˜ ì •ì²´ì„±ê³¼ ê¸°ë³¸ ì§€ì¹¨ì„ ì„¤ì •í•©ë‹ˆë‹¤.
    system_message = SystemMessage(content="ë‹¹ì‹ ì€ ë‹¤ì¬ë‹¤ëŠ¥í•œ ë¹„ì„œì…ë‹ˆë‹¤...")
    
    # 3. [ê¸°ë³¸ ì§€ì¹¨] + [ëŒ€í™” ê¸°ë¡]ì„ í•©ì³ AIì—ê²Œ ì „ë‹¬í•©ë‹ˆë‹¤.
    messages = [system_message] + state["messages"]
    
    # 4. (Harmony í˜¸í™˜ì„± ì²˜ë¦¬ í›„) AI ì‹¤í–‰
    response = llm_with_tools.invoke(cleaned_messages)
    
    # 5. ì‘ë‹µ íŒŒì‹± í›„ ë©”ì‹œì§€ ì—…ë°ì´íŠ¸
    return {"messages": [response]}
```

---

## âœ¨ í•µì‹¬ í¬ì¸íŠ¸

1. **ë„êµ¬ ì„¤ëª…(docstring)**: LLMì´ ë„êµ¬ë¥¼ ì„ íƒí•  ë•Œ ì°¸ê³ 
2. **ë³µì¡í•œ ì§ˆë¬¸**: ì—¬ëŸ¬ ë„êµ¬ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ í˜¸ì¶œ ê°€ëŠ¥
3. **ë„êµ¬ ëª©ë¡ ê´€ë¦¬**: ë¦¬ìŠ¤íŠ¸ë¡œ ë„êµ¬ë¥¼ ê´€ë¦¬í•˜ì—¬ í™•ì¥ ìš©ì´

---

## ğŸ”— ê´€ë ¨ ë¬¸ì„œ

- [ê¸°ë³¸ Agent](01_basic_agent.md)
- [ë‹¤ìŒ: Memory Agent](01b_memory_agent.md)
