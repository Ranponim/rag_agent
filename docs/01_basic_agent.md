# 1ï¸âƒ£ Basic Agent: LangGraph í‘œì¤€ íŒ¨í„´ í•™ìŠµ

LangGraphì˜ ê°€ì¥ ê¸°ë³¸ì ì¸ êµ¬ì¡°ì™€ í‘œì¤€ íŒ¨í„´ì„ í•™ìŠµí•˜ëŠ” ì˜ˆì œì…ë‹ˆë‹¤.
ìµœì‹  LangGraph(v0.2+)ì—ì„œ ê¶Œì¥í•˜ëŠ” `MessagesState`, `ToolNode`, `tools_condition`ì„ ì‚¬ìš©í•˜ì—¬ ReAct ì—ì´ì „íŠ¸ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.

---

## ğŸ¯ í•™ìŠµ ëª©í‘œ
1. **StateGraph(MessagesState)**: ë©”ì‹œì§€ ê¸°ë°˜ ìƒíƒœ ê´€ë¦¬ì˜ í‘œì¤€ ë°©ì‹ ì´í•´
2. **Prebuilt Components**: `ToolNode`ì™€ `tools_condition`ì„ í™œìš©í•œ ì½”ë“œ ë‹¨ìˆœí™”
3. **Tool Binding**: LLMì— ë„êµ¬ë¥¼ ì—°ê²°í•˜ê³  ì‹¤í–‰ ê²°ê³¼ë¥¼ ì²˜ë¦¬í•˜ëŠ” íë¦„ íŒŒì•…

---

## ğŸ—ï¸ ê·¸ë˜í”„ êµ¬ì¡°

ì „í˜•ì ì¸ **ReAct(Reasoning + Acting)** íŒ¨í„´ì…ë‹ˆë‹¤. ì—ì´ì „íŠ¸ê°€ ìƒê°(LLM)í•˜ê³  í–‰ë™(Tool)í•˜ëŠ” ê³¼ì •ì„ ë°˜ë³µí•©ë‹ˆë‹¤.

```mermaid
graph TD
    START((Start)) --> Agent
    Agent[Agent Node] --> Condition{Tools Condition}
    Condition -->|ë„êµ¬ í˜¸ì¶œ| Tools[Tool Node]
    Condition -->|ë‹µë³€ ì™„ë£Œ| END((End))
    Tools --> Agent

    style START fill:#f9f,stroke:#333
    style END fill:#f9f,stroke:#333
    style Agent fill:#e1f5fe,stroke:#0277bd
    style Tools fill:#fff3e0,stroke:#ef6c00
```

---

## ğŸ”‘ í•µì‹¬ ì½”ë“œ ì„¤ëª…

### 1. MessagesState ì‚¬ìš©
LangGraphëŠ” ë©”ì‹œì§€ ê¸°ë¡ ê´€ë¦¬ë¥¼ ìœ„í•œ í‘œì¤€ ìƒíƒœì¸ `MessagesState`ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
ë³„ë„ì˜ ë¦¬ë“€ì„œ(Reducer) ì •ì˜ ì—†ì´ë„, ìƒˆë¡œìš´ ë©”ì‹œì§€ë¥¼ ë°˜í™˜í•˜ë©´ ìë™ìœ¼ë¡œ ê¸°ì¡´ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€(Append)ë©ë‹ˆë‹¤.

```python
from langgraph.graph import MessagesState

# ë³„ë„ TypedDict ì •ì˜ ì—†ì´ ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥
builder = StateGraph(MessagesState)
```

### 2. í‘œì¤€ ë¼ìš°í„° (tools_condition)
ì´ì „ì—ëŠ” `should_continue` ê°™ì€ ë¼ìš°í„° í•¨ìˆ˜ë¥¼ ì§ì ‘ ì‘ì„±í•´ì•¼ í–ˆì§€ë§Œ, ì´ì œëŠ” `prebuilt.tools_condition`ì´ ê·¸ ì—­í• ì„ ëŒ€ì‹ í•©ë‹ˆë‹¤.
LLMì˜ ì‘ë‹µì— `tool_calls`ê°€ í¬í•¨ë˜ì–´ ìˆìœ¼ë©´ "tools" ë…¸ë“œë¡œ, ì•„ë‹ˆë©´ ì¢…ë£Œ(END)ë¡œ ë¼ìš°íŒ…í•©ë‹ˆë‹¤.

```python
from langgraph.prebuilt import tools_condition

builder.add_conditional_edges(
    "agent",           # ì‹œì‘ ë…¸ë“œ
    tools_condition,   # í‘œì¤€ ì¡°ê±´ í•¨ìˆ˜
)
```

### 3. ë„êµ¬ ì‹¤í–‰ ë…¸ë“œ (ToolNode)
`ToolNode`ëŠ” LLMì´ ìš”ì²­í•œ ë„êµ¬ í˜¸ì¶œì„ ì‹¤í–‰í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ `ToolMessage` í˜•íƒœë¡œ ë°˜í™˜í•˜ëŠ” ì‘ì—…ì„ ìë™í™”í•©ë‹ˆë‹¤.

```python
from langgraph.prebuilt import ToolNode

# ë„êµ¬ ë¦¬ìŠ¤íŠ¸ë§Œ ì „ë‹¬í•˜ë©´ ë!
builder.add_node("tools", ToolNode(tools))
```

---

## ğŸ“ ì‹¤í–‰ íë¦„

1. **ì‚¬ìš©ì**: "ì„œìš¸ ë‚ ì”¨ ì–´ë•Œ?"
2. **Agent**: ì§ˆë¬¸ ë¶„ì„ â†’ `get_weather('ì„œìš¸')` ë„êµ¬ í˜¸ì¶œ ê²°ì • (AIMessage)
3. **Condition**: ë„êµ¬ í˜¸ì¶œì´ ìˆìœ¼ë¯€ë¡œ `Tools` ë…¸ë“œë¡œ ì´ë™
4. **Tools**: í•¨ìˆ˜ ì‹¤í–‰ â†’ "ë§‘ìŒ, 15Â°C" ë°˜í™˜ (ToolMessage)
5. **Agent**: ë„êµ¬ ê²°ê³¼ë¥¼ ë³´ê³  ìµœì¢… ë‹µë³€ ìƒì„± â†’ "ì„œìš¸ì€ ë§‘ê³  15ë„ì…ë‹ˆë‹¤."
6. **Condition**: ë„êµ¬ í˜¸ì¶œì´ ì—†ìœ¼ë¯€ë¡œ `END`ë¡œ ì´ë™

---

## ì‹¤í–‰ ê²°ê³¼

### í…ŒìŠ¤íŠ¸ 1: ë„êµ¬ ì‚¬ìš© (ë‚ ì”¨)

```
ğŸ™‹ ì‚¬ìš©ì: ì„œìš¸ì˜ ë‚ ì”¨ê°€ ì–´ë•Œ?
============================================================
ğŸ”§ ë„êµ¬ í˜¸ì¶œ ê°ì§€: ['get_weather']
âœ… ìµœì¢… ì‘ë‹µ ìƒì„± ì™„ë£Œ

ğŸ¤– Agent: í˜„ì¬ ì„œìš¸ì˜ ë‚ ì”¨ëŠ” ë§‘ê³ , ê¸°ì˜¨ì€ 15Â°Cì…ë‹ˆë‹¤.
```

### í…ŒìŠ¤íŠ¸ 2: ë„êµ¬ ì‚¬ìš© (ê³„ì‚°)

```
ğŸ™‹ ì‚¬ìš©ì: 123 * 456ì€ ì–¼ë§ˆì•¼?
============================================================
ğŸ”§ ë„êµ¬ í˜¸ì¶œ ê°ì§€: ['calculate']
âœ… ìµœì¢… ì‘ë‹µ ìƒì„± ì™„ë£Œ

ğŸ¤– Agent: 123 Ã— 456 = 56,088 ì…ë‹ˆë‹¤.
```

### í…ŒìŠ¤íŠ¸ 3: ë„êµ¬ ë¶ˆí•„ìš”

```
ğŸ™‹ ì‚¬ìš©ì: ì•ˆë…•í•˜ì„¸ìš”! ë°˜ê°‘ìŠµë‹ˆë‹¤.
============================================================
âœ… ìµœì¢… ì‘ë‹µ ìƒì„± ì™„ë£Œ

ğŸ¤– Agent: ì•ˆë…•í•˜ì„¸ìš”! ë°˜ê°€ì›Œìš”. ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?
```

---

## ì—°ìŠµ ë¬¸ì œ

### 1. ìƒˆë¡œìš´ ë„êµ¬ ì¶”ê°€

ê²€ìƒ‰ ë„êµ¬ë¥¼ ì¶”ê°€í•´ë³´ì„¸ìš”:

```python
@tool
def search_web(query: str) -> str:
    """ì›¹ì—ì„œ ì •ë³´ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤."""
    # êµ¬í˜„í•´ë³´ì„¸ìš”
    pass
```

### 2. ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ìˆ˜ì •

ë‹¤ë¥¸ í˜ë¥´ì†Œë‚˜ë¥¼ ê°€ì§„ Agentë¡œ ë³€ê²½í•´ë³´ì„¸ìš”.

### 3. ìŠ¤íŠ¸ë¦¬ë° ì‹¤í–‰

`stream()`ì„ ì‚¬ìš©í•´ ì‹¤ì‹œê°„ ì¶œë ¥ì„ í™•ì¸í•˜ì„¸ìš”.

```python
for step, state in enumerate(graph.stream(initial_state, stream_mode="values")):
    print(f"Step {step}: ...")
```

---

## ğŸ”— ìƒì„¸ ì˜ˆì œ

ê¸°ë³¸ ê°œë…ì„ ìµí˜”ë‹¤ë©´ ë‹¤ìŒ ìƒì„¸ ì˜ˆì œë¡œ ì‹¬í™” í•™ìŠµí•˜ì„¸ìš”:

| ì˜ˆì œ | ì£¼ì œ | í•™ìŠµ ë‚´ìš© |
|------|------|----------|
| [01a. Multi-Tool Agent](01a_multi_tool_agent.md) | ë‹¤ì¤‘ ë„êµ¬ | 5ê°œ ì´ìƒ ë„êµ¬ ê´€ë¦¬, ë„êµ¬ ì„ íƒ ë¡œì§ |
| [01b. Memory Agent](01b_memory_agent.md) | ë©”ëª¨ë¦¬ ê¸°ëŠ¥ | MemorySaver, thread_idë¡œ ëŒ€í™” ìœ ì§€ |
| [01c. Multi-Agent](01c_multi_agent.md) | í˜‘ì—… ì‹œìŠ¤í…œ | Supervisor íŒ¨í„´, ì „ë¬¸ Agent í˜‘ë ¥ |

---

## ğŸ’» ì „ì²´ ì½”ë“œ í™•ì¸
[`examples/01_basic_agent.py`](../examples/01_basic_agent.py) íŒŒì¼ì„ ì°¸ê³ í•˜ì„¸ìš”.

---

## ë‹¤ìŒ ë‹¨ê³„

â¡ï¸ [02. Naive RAG](02_naive_rag.md) - ê¸°ë³¸ RAG íŒŒì´í”„ë¼ì¸ êµ¬í˜„
